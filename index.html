<!DOCTYPE html>
<html lang="en">
    <meta charset="utf-8">
    <style>
        .calculator {
            width: 300px;
            padding: 10px;
            border: 1px solid silver;
        }
        .row {
            display: flex;
            width: 100%;
            
        }

        button {
            margin: 5px;
            width: 36px;
            text-align: center;
            display: flex;
            justify-content: center;
            padding: 5px;
            box-sizing: border-box;
            cursor: pointer;
        }

        .display {
            min-height: 60px;
            border: 1px solid silver;
            margin-bottom: 5px;
        }
    </style>
    <body>
        <div class="container">
            <div class="wrapper">
                <div class="calculator">
                    <div class="display"></div>
                    <div class="buttons">
                        <div class="row">
                           <button>Rad</button> 
                           <button>Deg</button> 
                           <button>x!</button>
                           <button>(</button> 
                           <button>)</button>  
                           <button>%</button>
                           <button>AC</button>  
                        </div>
                        <div class="row">
                            <button>Inv</button> 
                            <button>sin</button> 
                            <button>ln</button>
                            <button onclick="updateScreen(7)">7</button> 
                            <button onclick="updateScreen(8)">8</button>  
                            <button onclick="updateScreen(9)">9</button>
                            <button onclick="updateScreen('+')">+</button>  
                        </div>
                        <div class="row">
                            <button>pi</button> 
                            <button>cos</button> 
                            <button>log</button>
                            <button onclick="updateScreen(4)">4</button> 
                            <button onclick="updateScreen(5)">5</button>  
                            <button onclick="updateScreen(6)">6</button>
                            <button onclick="updateScreen('x')">x</button>  
                        </div>
                        <div class="row">
                            <button>e</button> 
                            <button>tan</button> 
                            <button>can</button>
                            <button onclick="updateScreen(1)">1</button> 
                            <button onclick="updateScreen(2)">2</button>  
                            <button onclick="updateScreen(3)">3</button>
                            <button onclick="updateScreen('-')">-</button>  
                        </div>
                        <div class="row">
                            <button>Ans</button> 
                            <button>EXP</button> 
                            <button>x^y</button>
                            <button onclick="updateScreen(0)">0</button> 
                            <button onclick="updateScreen('.')">.</button>  
                            <button onclick="calculate()">=</button>
                            <button onclick="updateScreen('/')">/</button>  
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>

            const screen = document.getElementsByClassName('display')[0];
            let total = 0;
            let curSign = null;
            let floatSeparate = null;
            let floatGap = 0; 
            let preNum
            let curNum = 0;

            const updateScreen = element =>  {
                //float
                if (floatSeparate === '.') {
                    floatGap += 1
                    curNum = curNum + element/(10*floatGap)
                }
                //combine more than one digit that are next to each other
                let curString = screen.innerHTML;
    
                if (!isNaN(curString[curString.length - 1]) && !isNaN(element)){
                    total -= preNum
                    curNum = parseFloat(preNum)*10 + parseFloat(element)
                    preNum = curNum
                } else {
                    //if it's a sign
                    if (element === '+' || element === '-' || element === '/' || element === 'x' ) {
                        curSign = element
                        floatSeparate = null
                        floatGap = 0;
                    }
                    //if it's a float separate
                    else if (element === '.') {
                        floatSeparate = '.'
                    } 
                    //if it's a number
                    else {
                        curNum = parseFloat(element)
                        preNum = curNum
                    }
                }

                //update screen
                screen.innerHTML = screen.innerHTML + element;

                //to catch the first number
                if (curSign === null || curSign === '=') {
                    if (total === 0) {
                        total += curNum;
                        preNum = curNum
                    } 
                }
            }

            const math_it_up = {
                '+': function (x, y) { return x + y },
                '-': function (x, y) { return x - y },
                'x': function (x, y) { return x*y },
                '/': function (x, y) { return x/y },
            }

            const calculate = () => {
                let result = math_it_up[curSign](total, curNum)
                curSign = '='
                total = result;
                preNum = result;
                screen.innerHTML = result;
            }

        </script>
    </body>
</html>